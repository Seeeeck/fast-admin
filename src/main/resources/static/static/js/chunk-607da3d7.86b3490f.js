(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-607da3d7"],{"5b64":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"d",(function(){return o})),a.d(t,"e",(function(){return i})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return d}));var r=a("b775");function n(e){return Object(r["a"])({url:"/sys/menu/"+e,method:"get"})}function o(e){return Object(r["a"])({url:"/sys/menu",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/sys/menu",method:"put",data:e})}function s(e){return Object(r["a"])({url:"/sys/menu/"+e,method:"delete"})}function d(e){return Object(r["a"])({url:"/sys/menu/tree",method:"get",params:e})}},"5fce":function(e,t,a){var r={"./captcha.svg":"08e8","./dashboard.svg":"f782","./example.svg":"30c3","./eye-open.svg":"d7ec","./eye.svg":"4df5","./form.svg":"eb1b","./link.svg":"18f0","./log.svg":"fea0","./menu.svg":"bd3d","./nested.svg":"dcf8","./password.svg":"2a3d","./role.svg":"520c","./sys.svg":"7213","./table.svg":"47f1","./timer.svg":"4e0b","./tree.svg":"93cd","./user.svg":"b3b5"};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=o,e.exports=n,n.id="5fce"},"6e63":function(e,t,a){},"7c67":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.dataForm.id?"Update":"Add","close-on-click-modal":!1,visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.dataRule,"label-width":"140px"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.dataFormSubmit()}}},[a("el-form-item",{attrs:{label:"Type",prop:"type"}},[a("el-radio-group",{attrs:{disabled:0!==e.dataForm.id},model:{value:e.dataForm.type,callback:function(t){e.$set(e.dataForm,"type",t)},expression:"dataForm.type"}},e._l(e.typeList,(function(t,r){return a("el-radio",{key:r,attrs:{label:r}},[e._v(e._s(t))])})),1)],1),a("el-form-item",{attrs:{label:e.typeList[e.dataForm.type]+" name",prop:"name"}},[a("el-input",{attrs:{placeholder:e.typeList[e.dataForm.type]+" name"},model:{value:e.dataForm.name,callback:function(t){e.$set(e.dataForm,"name",t)},expression:"dataForm.name"}})],1),a("el-form-item",{attrs:{label:"Parent menu",prop:"parentName"}},[a("el-popover",{ref:"menuListPopover",attrs:{placement:"bottom-start",trigger:"click"}},[a("el-tree",{ref:"menuListTree",attrs:{data:e.menuList,props:e.menuListTreeProps,"node-key":"id","default-expand-all":!0,"highlight-current":!0,"expand-on-click-node":!1},on:{"current-change":e.menuListTreeCurrentChangeHandle}})],1),a("el-input",{directives:[{name:"popover",rawName:"v-popover:menuListPopover",arg:"menuListPopover"}],staticClass:"menu-list__input",attrs:{readonly:!0,placeholder:"Select the parent menu"},model:{value:e.dataForm.parentName,callback:function(t){e.$set(e.dataForm,"parentName",t)},expression:"dataForm.parentName"}})],1),2!==e.dataForm.type?a("el-form-item",{attrs:{label:"Menu path",prop:"path"}},[a("el-input",{attrs:{placeholder:"Menu path"},model:{value:e.dataForm.path,callback:function(t){e.$set(e.dataForm,"path",t)},expression:"dataForm.path"}})],1):e._e(),2===e.dataForm.type?a("el-form-item",{attrs:{label:"Permission",prop:"perms"}},[a("el-input",{attrs:{placeholder:"Multiple separated by comma, E.g: sys:user:page,sys:user:save"},model:{value:e.dataForm.perms,callback:function(t){e.$set(e.dataForm,"perms",t)},expression:"dataForm.perms"}})],1):e._e(),a("el-form-item",{attrs:{label:"Order number",prop:"orderNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,label:"Order number"},model:{value:e.dataForm.orderNum,callback:function(t){e.$set(e.dataForm,"orderNum",t)},expression:"dataForm.orderNum"}})],1),2!==e.dataForm.type?a("el-form-item",{attrs:{label:"Whether to hidden"}},[a("el-switch",{model:{value:e.dataForm.hidden,callback:function(t){e.$set(e.dataForm,"hidden",t)},expression:"dataForm.hidden"}})],1):e._e(),2!==e.dataForm.type?a("el-form-item",{attrs:{label:"Menu icon",prop:"icon"}},[a("el-row",[a("el-col",{attrs:{span:22}},[a("el-popover",{ref:"iconListPopover",attrs:{placement:"bottom-start",trigger:"click","popper-class":"mod-menu__icon-popover"}},[a("div",{staticClass:"mod-menu__icon-inner"},[a("div",{staticClass:"mod-menu__icon-list"},e._l(e.iconList,(function(t,r){return a("el-button",{key:r,class:{"is-active":t===e.dataForm.icon},on:{click:function(a){return e.iconActiveHandle(t)}}},[a("svg-icon",{attrs:{"icon-class":t}})],1)})),1)])]),a("el-input",{directives:[{name:"popover",rawName:"v-popover:iconListPopover",arg:"iconListPopover"}],staticClass:"icon-list__input",attrs:{readonly:!0,placeholder:"Menu icon"},model:{value:e.dataForm.icon,callback:function(t){e.$set(e.dataForm,"icon",t)},expression:"dataForm.icon"}})],1),a("el-col",{staticClass:"icon-list__tips",attrs:{span:2}},[a("el-tooltip",{attrs:{placement:"top",effect:"light"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("Recommend using SVG files, please see "),a("a",{attrs:{href:"https://github.com/Seeeeck/fast-admin-vue/blob/master/README.md",target:"_blank"}},[e._v("fast-admin-vue")]),e._v(" for details")]),a("i",{staticClass:"el-icon-warning"})])],1)],1)],1):e._e()],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dataFormSubmit()}}},[e._v("Ok")])],1)],1)},n=[],o=(a("d81d"),a("d3b7"),a("ddb0"),a("b0c0"),a("5b64")),i={data:function(){var e=this,t=function(t,a,r){1!==e.dataForm.type||/\S/.test(a)?r():r(new Error("Menu path cannot be empty."))};return{visible:!1,typeList:["Catalog","Menu","Button"],dataForm:{id:0,type:1,name:"",parentId:0,parentName:"",path:"",perms:"",orderNum:0,icon:"",hidden:!1},iconList:[],dataRule:{name:[{required:!0,message:"Menu name cannot be empty",trigger:"blur"}],parentName:[{required:!0,message:"Parent menu cannot be empty",trigger:"change"}],path:[{validator:t,trigger:"blur"}]},menuList:[{id:0,name:"Top menu",children:[]}],menuListTreeProps:{label:"name",children:"children"}}},mounted:function(){this.iconList=a("5fce").keys().map((function(e){return e.substring(2,e.length-4)}))},methods:{init:function(e){var t=this;this.dataForm.id=e||0,Object(o["c"])({op:"less",noButtonType:!0}).then((function(a){t.visible=!0,t.menuList[0].children=a.data,t.$nextTick((function(){t.$refs["dataForm"].resetFields(),t.dataForm.id?Object(o["b"])(e).then((function(e){t.dataForm.id=e.data.id,t.dataForm.type=e.data.type,t.dataForm.name=e.data.name,t.dataForm.parentId=e.data.parentId,t.dataForm.path=e.data.path,t.dataForm.perms=e.data.perms,t.dataForm.orderNum=e.data.orderNum,t.dataForm.icon=e.data.icon,t.menuListTreeSetCurrentNode()})):t.menuListTreeSetCurrentNode()}))}))},menuListTreeCurrentChangeHandle:function(e,t){var a=this;this.dataForm.parentId=e.id,this.dataForm.parentName=e.name,Object(o["b"])(e.id).then((function(e){e.data&&e.data.path?a.dataForm.path=e.data.path+"/":a.dataForm.path=""})).catch((function(){}))},menuListTreeSetCurrentNode:function(){this.$refs.menuListTree.setCurrentKey(this.dataForm.parentId),this.dataForm.parentName=(this.$refs.menuListTree.getCurrentNode()||{})["name"]},iconActiveHandle:function(e){this.dataForm.icon=e},dataFormSubmit:function(){var e=this;this.$refs["dataForm"].validate((function(t){if(t){var a={id:e.dataForm.id||void 0,type:e.dataForm.type,name:e.dataForm.name,parentId:e.dataForm.parentId,orderNum:e.dataForm.orderNum};0===e.dataForm.type||1===e.dataForm.type?(a.icon=e.dataForm.icon,a.hidden=e.dataForm.hidden,a.path=e.dataForm.path):(a.perms=e.dataForm.perms,a.hidden=!0),e.dataForm.id?Object(o["e"])(a).then((function(){e.$message({message:"Success",type:"success",duration:1e3,onClose:function(){e.visible=!1,e.$emit("refreshDataList")}})})).catch((function(){})):Object(o["d"])(a).then((function(){e.$message({message:"Success",type:"success",duration:1e3,onClose:function(){e.visible=!1,e.$emit("refreshDataList")}})})).catch((function(){}))}}))}}},s=i,d=(a("e675"),a("2877")),m=Object(d["a"])(s,r,n,!1,null,null,null);t["default"]=m.exports},e675:function(e,t,a){"use strict";a("6e63")}}]);